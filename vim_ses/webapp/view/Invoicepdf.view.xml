<mvc:View
    controllerName="com.vimses.vimses.controller.Invoicepdf"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:html="http://www.w3.org/1999/xhtml"
    displayBlock="true"
    height="100%">
    
    <Page 
        title="{i18n>title}"
        showHeader="true"
        enableScrolling="false"
        class="sapUiContentPadding">
        
        <customHeader>
            <Bar>
                <contentMiddle>
                    <Title text="Invoice Viewer"/>
                </contentMiddle>
                <contentRight>
                    <Button
                        icon="sap-icon://decline"
                        type="Reject"
                        press=".onClosePreview"
                        tooltip="Close"/>
                </contentRight>
            </Bar>
        </customHeader>
        <BusyIndicator 
            id="busyIndicator"
            class="sapUiLargeMargin"
            size="2rem"
            visible="{viewModel>/isLoading}"/>

        <VBox 
            visible="{viewModel>/showPdf}"
            height="100%"
            width="100%"
            renderType="Bare"
            class="sapUiNoContentPadding">
            
            <core:HTML
                id="pdfContainer"
                content='&lt;iframe id="pdfView01" width="100%" height="100%" frameborder="0" style="min-height: 600px;"&gt;&lt;/iframe&gt;'
                afterRendering=".onIframeRendered"/>
        </VBox>
        <MessageStrip
            visible="{= !${viewModel>/showPdf} &amp;&amp; !${viewModel>/isLoading} }"
            text="No PDF document available for preview"
            type="Information"
            showIcon="true"
            class="sapUiMediumMargin"/>
    </Page>
</mvc:View>